<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>VisCommentator</title>

    <link rel="stylesheet" href="./styles//style.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"
    />
    <link rel="stylesheet" href="styles/tomorrow-night.css" />

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
    <script src="js/highlight.pack.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_CHTML"
      async
    ></script>
  </head>

  <body>
    <div class="teaser">
      <img src="./figs/logo.jpg" />
      <div class="mask"></div>
      <div class="teaser-content">
        <h1>Augmenting Sports Videos with VisCommentator</h1>
        <div class="jump-btn-group">
          <a href="#examples" class="jump-btn">Examples</a>
          <a href="#section2" class="jump-btn">section2</a>
          <a href="#section3" class="jump-btn">section3</a>
          <a href="#section4" class="jump-btn">section4</a>
          <a href="#paper" class="jump-btn">Paper</a>
        </div>
      </div>
    </div>

    <div class="content" style="width: 80vw; max-width: 1024px">
      <section id="abstract" class="abstract">
        <h2>Abstract</h2>
        <p>
          Augmenting sports videos with data visualizations is gaining traction
          given its ability to communicate insights and explicate
          playerstrategies engagingly. However, creating such augmented videos
          is challenging, as it requires considerable domain expertise in
          sportsanalytics and video editing skills. To ease the creation
          process, we present a design space to characterize augmented sports
          videosat element- (<em>what are the constituents</em>) and clip-levels
          (<em>how the constituents are organized</em>) by systematically
          reviewing 233 examplescollected from TV channels, teams, and leagues.
          The design space provides guidance for selecting data insights and
          visualizations forvarious purposes. Informed by the design space, we
          present VisCommentator that facilitates the creation of augmented
          videos fortable tennis with data insights and visualizations
          recommendations. A user study with seven domain experts confirms the
          usefulnessand effectiveness of the system. Another study with sports
          fans found the resulting videos informative and engaging.
        </p>
      </section>

      <hr />

      <section id="examples" class="examples">
        <h2>Examples</h2>
        <!-- <figure
          style="text-align: center; width: 60%; margin: 0 auto 20px auto"
        >
          <img src="figs/41_architecture.png" alt="missing" />
        <figcaption>The complete architecture of our model that can parse both global and local information simultaneously.</figcaption> 
        </figure>-->

        <video src="videos/demo0.mp4" controls></video>
        <div id="examples_demo" class="gallary"></div>
      </section>

      <hr />
      <section id="section2" class="section1">
        <h2>Corpus</h2>
        <div class="filter-selector-group">
          <select class="filter-select" id="video_sports"></select>
          <select class="filter-select" id="video_source"></select>
          <select class="filter-select" id="narrative_pattern"></select>
        </div>
        <div id="examples_good" class="gallary"></div>
        <div id="gallary_pagination" class="pagination">
          <span>previous</span>
          <span>1</span>
          <span>2</span>
        </div>
      </section>
      <hr />

      <hr />
      <section id="paper" class="paper">
        <h2>Paper</h2>
        <div class="gallary"></div>
      </section>

      <hr />
      <section id="paper" class="paper">
        <h2>Paper</h2>
        <div class="gallary"></div>
      </section>

      <hr />
      <section id="references" class="references">
        <h2 style="text-align: left">Reference</h2>
      </section>
    </div>

    <script>
      function insertExampleImage() {
        const section = document.querySelector("#examples > #examples_demo");
        for (let i = 1; i < 7; ++i) {
          section.insertAdjacentHTML(
            "beforeend",
            `
                <div class="item item-3">
                    <div class="item-content">
                    <a data-fancybox="gallery" href="#demo_${i}">
                        <img src="figs/demo${i}.png" alt='missing' /> 
                        <i class="fa fa-play-circle"></i>
                    </a>
                    </div>
                </div>
<<<<<<< HEAD
                <video
          width="1280"
          height="640"
          controls
          id="demo_${i}"
          style="display: none"
          src="./videos/demo${i}.mp4"
        ></video>
                `
          );
        }
      }

      function convertReference() {
        const cites = document.querySelectorAll("cite");
        let id = 1;
        const orderBook = {};
        cites.forEach((c) => {
          if (!(c.textContent in orderBook)) {
            orderBook[c.textContent] = id++;
          }
        });
        cites.forEach((c) => {
          const refId = c.textContent;
          c.textContent = "";
          c.insertAdjacentHTML(
            "beforeend",
            `<a href="#${refId}">[${orderBook[refId]}]</a>`
          );
        });

        // reorder
        const ps = Array.from(document.querySelectorAll("#references > p"));
        ps.forEach((p) => {
          p.innerHTML = `[${orderBook[p.id]}] ${p.innerHTML}`;
          p.parentElement.removeChild(p);
        });
        const parent = document.querySelector("#references");
        ps.filter((p) => orderBook[p.id])
          .sort((a, b) => orderBook[a.id] - orderBook[b.id])
          .forEach((p) => parent.appendChild(p));
      }

      // highlight code
      hljs.initHighlightingOnLoad();

      insertExampleImage();

      // reference
      convertReference();

      // corpus
      function generateCorpus() {
        const section = document.querySelector("#examples_good");
        for (let i = 1; i < 13; ++i) {
          section.insertAdjacentHTML(
            "beforeend",
            `
                <div class="item">
                    <div class="item-content">
                    <a data-fancybox="gallery" href="figs/logo.jpg">
                    <img src="figs/logo.jpg" alt='missing' /> </a>
                    </div>
                </div>
                `
          );
        }

        const sportsOption = [
          "All Sports",
          "Basketball",
          "Soccer",
          "Football",
          "Badminton",
          "Table Tennis",
          "Tennis",
        ];
        const sourceOption = [
          "All Sources",
          "TV",
          "Team",
          "Fan",
          "Demo",
          "League",
          "Other Organization",
        ];
        const narrativePatternOption = [
          "All Narrative Pattern",
          "Linear",
          "FlashForward",
          "FlashBack",
          "TimeFork",
          "ZigZag",
          "Grouped",
        ];

        // select for video sports
        const sportsSelect = document.querySelector("#video_sports");
        let optionsForSports = "";
        for (let sport of sportsOption) {
          optionsForSports += `<option value="${sport}">${sport}</option>`;
        }
        sportsSelect.innerHTML = optionsForSports;

        // select for video source
        const sourceSelect = document.querySelector("#video_source");
        let optionsForSource = "";
        for (let source of sourceOption) {
          optionsForSource += `<option value="${source}">${source}</option>`;
        }
        sourceSelect.innerHTML = optionsForSource;

        // select for video source
        const narrativeSelect = document.querySelector("#narrative_pattern");
        let optionsForNarrative = "";
        for (let narrative of narrativePatternOption) {
          optionsForNarrative += `<option value="${narrative}">${narrative}</option>`;
        }
        narrativeSelect.innerHTML = optionsForNarrative;
      }
      generateCorpus();
    </script>
  </body>
</html>
